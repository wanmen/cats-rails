<h2>注册</h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
  <%= devise_error_messages! %>
  <% if session["devise.social_data"] %>
  <%= f.text_field :provider, :type => 'hidden', :value=>session["devise.social_data"]["provider"] %>
  <%= f.text_field :uid, :type => 'hidden', :value=>session["devise.social_data"]["uid"] %>
  <%= f.text_field :thumbnail, :type => 'hidden', :value=>session["devise.social_data"]["info"]["image"] %>
  <div><img src="<%=session["devise.social_data"]["info"]["image"]%>" title="<%=session["devise.social_data"]["info"]["name"]%>"></div>
  <div>
  	<%= f.label :email,"邮箱" %><br />
  	<%= f.email_field :email, :autofocus => true,:placeholder=>"邮箱",:class=>"input-block-level"%>
  </div>
  <div>
  <%= f.label :name,"昵称" %><br />
  <%= f.text_field :name,:value=>session["devise.social_data"]["info"]["name"],:placeholder=>"昵称",:class=>"input-block-level"%>
  </div>
  <% else %>
  <div>
  <%= f.label :email,"邮箱" %><br />
  <%= f.email_field :email, :autofocus => true,:placeholder=>"邮箱",:class=>"input-block-level" %>
  </div>
  <div>
  <%= f.label :name,"昵称" %><br />
  <%= f.text_field :name,:placeholder=>"昵称",:class=>"input-block-level" %>
  </div>
  <% end %>

  <div><%= f.label :password,"密码" %><br />
  <%= f.password_field :password %></div>

  <div><%= f.label :password_confirmation,"确认密码" %><br />
  <%= f.password_field :password_confirmation %></div>

  <div><%= f.submit "注册" %></div>
<% end %>

<%= render "users/shared/links" %>
